<template>
<div>
	<div class="card">


<!--projet de vue du dossier agent-->
		<h3 class="m-2">Projets dossier agent</h3>
		<div class="album py-2 bg-light">
			<div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
				<div class="col">
					<div class="card shadow-sm">
						<div class="card-body">
							<p class="card-text">Fiche de renseignents</p>
							<div class="d-flex justify-content-between align-items-center">
								<div class="btn-group">
									<button type="button" class="btn btn-sm btn-outline-secondary">Voir</button>
									<button type="button" class="btn btn-sm btn-outline-secondary">Ajouter</button>
								</div>
								<span class="badge bg-success">OK</span>                
							</div>
						</div>
					</div>
				</div>
				<div class="col">
					<div class="card shadow-sm">
						<div class="card-body">
							<p class="card-text">Pièce d'identité</p>
							<div class="d-flex justify-content-between align-items-center">
								<div class="btn-group">
									<button type="button" class="btn btn-sm btn-outline-secondary">Voir</button>
									<button type="button" class="btn btn-sm btn-outline-secondary">Ajouter</button>
								</div>
								<span class="badge bg-success">OK</span>                
							</div>
						</div>
					</div>
				</div>
				<div class="col">
					<div class="card shadow-sm">
						<div class="card-body">
							<p class="card-text">Photo</p>
							<div class="d-flex justify-content-between align-items-center">
								<div class="btn-group">
									<button type="button" class="btn btn-sm btn-outline-secondary">Voir</button>
									<button type="button" class="btn btn-sm btn-outline-secondary">Ajouter</button>
								</div>
								<span class="badge bg-success">OK</span>                
							</div>
						</div>
					</div>
				</div>
				<div class="col">
					<div class="card shadow-sm">
						<div class="card-body">
							<p class="card-text">Droit sécurité sociale</p>
							<div class="d-flex justify-content-between align-items-center">
								<div class="btn-group">
									<button type="button" class="btn btn-sm btn-outline-secondary">Voir</button>
									<button type="button" class="btn btn-sm btn-outline-secondary">Ajouter</button>
								</div>
								<span class="badge bg-success">OK</span>                
							</div>
						</div>
					</div>
				</div>
				<div class="col">
					<div class="card shadow-sm">
						<div class="card-body">
							<p class="card-text">Permis de conduire</p>
							<div class="d-flex justify-content-between align-items-center">
								<div class="btn-group">
									<button type="button" class="btn btn-sm btn-outline-secondary">Voir</button>
									<button type="button" class="btn btn-sm btn-outline-secondary">Ajouter</button>
								</div>
								<span class="badge bg-success">OK</span>              
							</div>
						</div>
					</div>
				</div>
				<div class="col">
					<div class="card shadow-sm">
						<div class="card-body">
							<p class="card-text">Justificatif de domicile</p>
							<div class="d-flex justify-content-between align-items-center">
								<div class="btn-group">
									<button type="button" class="btn btn-sm btn-outline-secondary">Voir</button>
									<button type="button" class="btn btn-sm btn-outline-secondary">Ajouter</button>
								</div>
								<span class="badge bg-danger">VIDE</span>								
							</div>
						</div>
					</div>
				</div>
				<div class="col">
					<div class="card shadow-sm">
						<div class="card-body">
							<p class="card-text">RIB</p>
							<div class="d-flex justify-content-between align-items-center">
								<div class="btn-group">
									<button type="button" class="btn btn-sm btn-outline-secondary">Voir</button>
									<button type="button" class="btn btn-sm btn-outline-secondary">Ajouter</button>
								</div>
								<span class="badge bg-success">OK</span>        
							</div>
						</div>
					</div>
				</div>
				<div class="col">
					<div class="card shadow-sm">
						<div class="card-body">
							<p class="card-text">Certificat d'aptitude physique</p>
							<div class="d-flex justify-content-between align-items-center">
								<div class="btn-group">
									<button type="button" class="btn btn-sm btn-outline-secondary">Voir</button>
									<button type="button" class="btn btn-sm btn-outline-secondary">Ajouter</button>
								</div>
								<span class="badge bg-success">OK</span>              
							</div>
						</div>
					</div>
				</div>
				<div class="col">
					<div class="card shadow-sm">
						<div class="card-body">
							<p class="card-text">Certificat d'aptitudes psychotechniques</p>
							<div class="d-flex justify-content-between align-items-center">
								<div class="btn-group">
									<button type="button" class="btn btn-sm btn-outline-secondary">Voir</button>
									<button type="button" class="btn btn-sm btn-outline-secondary">Ajouter</button>
								</div>
								<span class="badge bg-danger">VIDE</span>								
							</div>
						</div>
					</div>
				</div>
				<div class="col">
					<div class="card shadow-sm">
						<div class="card-body">
							<p class="card-text">Visite médicale du travail</p>
							<div class="d-flex justify-content-between align-items-center">
								<div class="btn-group">
									<button type="button" class="btn btn-sm btn-outline-secondary">Voir</button>
									<button type="button" class="btn btn-sm btn-outline-secondary">Ajouter</button>
								</div>
								<span class="badge bg-danger">VIDE</span>								
							</div>
						</div>
					</div>
				</div>
				<div class="col">
					<div class="card shadow-sm">
						<div class="card-body">
							<p class="card-text">Charte véhicule</p>
							<div class="d-flex justify-content-between align-items-center">
								<div class="btn-group">
									<button type="button" class="btn btn-sm btn-outline-secondary">Voir</button>
									<button type="button" class="btn btn-sm btn-outline-secondary">Ajouter</button>
								</div>
								<span class="badge bg-danger">VIDE</span>								
							</div>
						</div>
					</div>
				</div>
				<div class="col">
					<div class="card shadow-sm">
						<div class="card-body">
							<p class="card-text">Charte informatique</p>
							<div class="d-flex justify-content-between align-items-center">
								<div class="btn-group">
									<button type="button" class="btn btn-sm btn-outline-secondary">Voir</button>
									<button type="button" class="btn btn-sm btn-outline-secondary">Ajouter</button>
								</div>
								<span class="badge bg-danger">VIDE</span>                
							</div>
						</div>
					</div>
				</div>
				<div class="col">
					<div class="card shadow-sm">
						<div class="card-body">
							<p class="card-text">Fiche (s) de poste</p>
							<div class="d-flex justify-content-between align-items-center">
								<div class="btn-group">
									<button type="button" class="btn btn-sm btn-outline-secondary">Voir</button>
									<button type="button" class="btn btn-sm btn-outline-secondary">Ajouter</button>
								</div>
								<span class="badge bg-success">OK</span>                
							</div>
						</div>
					</div>
				</div>
				<div class="col">
					<div class="card shadow-sm">
						<div class="card-body">
							<p class="card-text">Attestation validité permis</p>
							<div class="d-flex justify-content-between align-items-center">
								<div class="btn-group">
									<button type="button" class="btn btn-sm btn-outline-secondary">Voir</button>
									<button type="button" class="btn btn-sm btn-outline-secondary">Ajouter</button>
								</div>
								<span class="badge bg-success">OK</span>                
							</div>
						</div>
					</div>
				</div>
				<div class="col">
					<div class="card shadow-sm">
						<div class="card-body">
							<p class="card-text">Accueil sécurité</p>
							<div class="d-flex justify-content-between align-items-center">
								<div class="btn-group">
									<button type="button" class="btn btn-sm btn-outline-secondary">Voir</button>
									<button type="button" class="btn btn-sm btn-outline-secondary">Ajouter</button>
								</div>
								<span class="badge bg-success">OK</span>                
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<hr>
	<div>
		sauvegarde
		<div class="accordion my-2 col-sm-12">
				<div class="accordion-item" id="accordionDocuments">
					<p class="accordion-header" id="Documents">
						<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseDocuments" aria-expanded="false" aria-controls="collapseDocuments">
						Documents joints au dossier
						</button>
					</p>
					<div id="collapseDocuments" class="accordion-collapse collapse show" aria-labelledby="headingThree" data-bs-parent="#accordionContrats">
						<div class="accordion-body list-group-flush">
							<a href="#" class="list-group-item list-group-item-action  d-flex gap-2 py-2 align-items-center" aria-current="true">
							<span class="text-center text-success align-items-baseline"><i class="bi bi-check-circle"></i></span>
								<div class="d-flex gap-2 w-100 justify-content-between">
									<p class="mb-0">Fiche de renseignements</P>
									<small class="opacity-50 text-nowrap text-success">15/03/2022</small>
								</div>
							</a>
							<a href="#" class="list-group-item list-group-item-action d-flex gap-2 py-2 align-items-center" aria-current="true">
							<span class="text-center text-danger"><i class="bi bi-file-arrow-down"></i></span>
								<div class="d-flex gap-2 w-100 justify-content-between">
								<p class="mb-0">Pièce d'identité</p>
								<small class="opacity-50 text-nowrap text-danger">Ajouter</small>
								</div>
							</a>
							<a href="#" class="list-group-item list-group-item-action d-flex gap-2 py-2 align-items-center" aria-current="true">
							<span class="text-center text-success"><i class="bi bi-check-circle"></i></span>
								<div class="d-flex gap-2 w-100 justify-content-between">
								<p class="mb-0">Photo</p>
								<small class="opacity-50 text-nowrap text-success">15/03/2022</small>
								</div>
							</a>
							<a href="#" class="list-group-item list-group-item-action d-flex gap-2 py-2 align-items-center" aria-current="true">
							<span class="text-center text-danger"><i class="bi bi-file-arrow-down"></i></span>
								<div class="d-flex gap-2 w-100 justify-content-between">
								<p class="mb-0">Droit sécurité sociale</p>
								<small class="opacity-50 text-nowrap text-danger">Ajouter</small>
								</div>
							</a>
							<a href="#" class="list-group-item list-group-item-action d-flex gap-2 py-2 align-items-center" aria-current="true">
							<span class="text-center text-success"><i class="bi bi-check-circle"></i></span>
								<div class="d-flex gap-2 w-100 justify-content-between">
								<p class="mb-0">Permis de conduire</p>
								<small class="opacity-50 text-nowrap">15/03/2022</small>
								</div>
							</a>
							<a href="#" class="list-group-item list-group-item-action d-flex gap-2 py-2 align-items-center" aria-current="true">
							<span class="text-center text-danger"><i class="bi bi-file-arrow-down"></i></span>
								<div class="d-flex gap-2 w-100 justify-content-between">
								<p class="mb-0">Justificatif de domicile</p>
								<small class="opacity-50 text-nowrap text-danger">15/03/2022</small>
								</div>
							</a>
							<a href="#" class="list-group-item list-group-item-action d-flex gap-2 py-2 align-items-center" aria-current="true">
							<span class="text-center text-success"><i class="bi bi-check-circle"></i></span>
								<div class="d-flex gap-2 w-100 justify-content-between">
								<p class="mb-0">RIB</p>
								<small class="opacity-50 text-nowrap text-success">15/03/2022</small>
								</div>
							</a>
							<a href="#" class="list-group-item list-group-item-action d-flex gap-2 py-2 align-items-center" aria-current="true">
							<span class="text-center text-danger"><i class="bi bi-file-arrow-down"></i></span>
								<div class="d-flex gap-2 w-100 justify-content-between">
								<p class="mb-0">Certificat d'aptitudes physiques</p>
								<small class="opacity-50 text-nowrap text-danger">Ajouter</small>
								</div>
							</a>
							<a href="#" class="list-group-item list-group-item-action d-flex gap-2 py-2 align-items-center" aria-current="true">
							<span class="text-center text-success"><i class="bi bi-check-circle"></i></span>
								<div class="d-flex gap-2 w-100 justify-content-between">
								<p class="mb-0">Certificat d'aptitudes psychotechniques</p>
								<small class="opacity-50 text-nowrap text-success">15/03/2022</small>
								</div>
							</a>
							<a href="#" class="list-group-item list-group-item-action d-flex gap-2 py-2 align-items-center" aria-current="true">
							<span class="text-center text-success"><i class="bi bi-check-circle"></i></span>
								<div class="d-flex gap-2 w-100 justify-content-between">
								<p class="mb-0">Visite médicale du travail</p>
								<small class="opacity-50 text-nowrap text-success">15/03/2022</small>
								</div>
							</a>
							<a href="#" class="list-group-item list-group-item-action d-flex gap-2 py-2 align-items-center" aria-current="true">
							<span class="text-center text-success"><i class="bi bi-check-circle"></i></span>
								<div class="d-flex gap-2 w-100 justify-content-between">
								<p class="mb-0">Charte véhicule</p>
								<small class="opacity-50 text-nowrap text-success">15/03/2022</small>
								</div>
							</a>
							<a href="#" class="list-group-item list-group-item-action d-flex gap-2 py-2 align-items-center" aria-current="true">
							<span class="text-center text-success"><i class="bi bi-check-circle"></i></span>
								<div class="d-flex gap-2 w-100 justify-content-between">
								<p class="mb-0">Charte informatique</p>
								<small class="opacity-50 text-nowrap text-success">15/03/2022</small>
								</div>
							</a>
							<a href="#" class="list-group-item list-group-item-action d-flex gap-2 py-2 align-items-center" aria-current="true">
							<span class="text-center text-success"><i class="bi bi-check-circle"></i></span>
								<div class="d-flex gap-2 w-100 justify-content-between">
								<p class="mb-0">Fiche(s) de poste</p>
								<small class="opacity-50 text-nowrap text-success">15/03/2022</small>
								</div>
							</a>
							<a href="#" class="list-group-item list-group-item-action d-flex gap-2 py-2 align-items-center" aria-current="true">
							<span class="text-center text-success"><i class="bi bi-check-circle"></i></span>
								<div class="d-flex gap-2 w-100 justify-content-between">
								<p class="mb-0">Attestation validité permis</p>
								<small class="opacity-50 text-nowrap text-success">15/03/2022</small>
								</div>
							</a>
							<a href="#" class="list-group-item list-group-item-action d-flex gap-2 py-2 align-items-center" aria-current="true">
							<span class="text-center text-success"><i class="bi bi-check-circle"></i></span>
								<div class="d-flex gap-2 w-100 justify-content-between">
								<p class="mb-0">Accueil sécurité</p>
								<small class="opacity-50 text-nowrap text-success">15/03/2022</small>
								</div>
							</a>
						</div>
					</div>
				</div>
			</div>
			<div>
				{{tabStats}}
				{{dataTest}}
				{{listabsence}}
			</div>

	</div>
<!--fin de projet de vue du dossier agent-->
</div>


</template>
<script>
	export default {
	
		data() {
			return {
				listabsence: [],
				dataTest:[],
				tabStats: [],
					
				}
				
		},
	
	
		
	
		methods: {

			DisplayListTest() {
				let apiUrl = 'structurePersonnel/GET/list';
				console.log('app', this.$app);
				this.$app.apiGet(apiUrl)
				.then( (data) => {
					this.dataTest = data;
					console.log(this.dataTest);
				})
				.catch(this.$app.catchError);
			},


			DisplayList() {
				let apiUrl = 'structurePersonnel/GET/'+561+'/absence';
				this.$app.apiGet(apiUrl)
				.then( (data) => {
					this.listabsence = data.result;
					console.log(this.listabsence)
				})
				.catch(this.$app.catchError);
			},

			DisplayStats (){
				let apiUrl = 'structurePersonnel/GET/stats';
				this.$app.apiGet(apiUrl)
				.then((data) => {
					this.tabStats = data;
					console.log(this.tabStats);
				})
				.catch(this.$app.catchError);
			}
		},
		mounted() {
			this.DisplayList();
			this.DisplayListTest();
			this.DisplayStats();
		},   
	}
		
	</script>
<!--
<script>
import {GoogleCharts} from 'google-charts';


export default {
name: 'docs',



data() {
return {
chart_disp: false
}
},

methods: {
/**
* Affiche un diagramme
*/
/*
drawChart() {
let el = document.getElementById('piechart');

let data = [
['Task', 'Type de contrat'],
['CDI',     123],
['CDD',      456],
['Apprentissage',  12],
['Professionalisation', 3],
['Stage',    2]
];

var visData = GoogleCharts.api.visualization.arrayToDataTable(data);
var chart = new GoogleCharts.api.visualization.PieChart(el);

chart.draw(visData);
},

/**
* Charge un diagramme
*/
/*
loadChart() {
let el = document.getElementById('piechart');
if (typeof el !== 'undefined') {
GoogleCharts.load(this.drawChart);
}
}
},

updated() {
this.loadChart();
},

mounted() {
this.loadChart();
// GoogleCharts.load(this.drawChart);
//GoogleCharts.setOnLoadCallback(this.drawChart);
}
}
</script>-->